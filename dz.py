#this is simple base64 encryption by DEMONIC'S zone.
import base64
exec(base64.b64decode("aW1wb3J0IGFzeW5jaW8KaW1wb3J0IHRpbWUKaW1wb3J0IHJhbmRvbQppbXBvcnQgb3MKaW1wb3J0IHJlcXVlc3RzCmZyb20gdGVsZXRob24uc3luYyBpbXBvcnQgVGVsZWdyYW1DbGllbnQKZnJvbSB0ZWxldGhvbi50bC5mdW5jdGlvbnMuY2hhbm5lbHMgaW1wb3J0IEludml0ZVRvQ2hhbm5lbFJlcXVlc3QKZnJvbSB0ZWxldGhvbi5lcnJvcnMgaW1wb3J0IEZsb29kV2FpdEVycm9yLCBVc2VyQWxyZWFkeVBhcnRpY2lwYW50RXJyb3IKZnJvbSByaWNoLmNvbnNvbGUgaW1wb3J0IENvbnNvbGUKZnJvbSByaWNoLnBhbmVsIGltcG9ydCBQYW5lbApmcm9tIHJpY2gudGFibGUgaW1wb3J0IFRhYmxlCmZyb20gcmljaC5wcm9ncmVzcyBpbXBvcnQgUHJvZ3Jlc3MKZnJvbSByaWNoLmJveCBpbXBvcnQgUk9VTkRFRAoKY29uc29sZSA9IENvbnNvbGUoKQoKIyA9PT09PT09PT09PT09PT09PT09PT09IFJFRElSRUNUICYgQVVUSEVOVElDQVRJT04gPT09PT09PT09PT09PT09PT09PT09PQpkZWYgYXV0aGVudGljYXRlX3VzZXIoKToKICAgICMgRmlyc3QgcmVkaXJlY3QgdG8gVGVsZWdyYW0gY2hhbm5lbAogICAgY29uc29sZS5wcmludChQYW5lbC5maXQoIltib2xkIGdyZWVuXVJlZGlyZWN0aW5nIHRvIFRlbGVncmFtIGNoYW5uZWwuLi5JZiBpdHMgbm90IHJlZGlyZWN0aW5nIHRoZW4gam9pbiA6IGh0dHBzOi8vdC5tZS8rVXVzbnM5cVpIdHcyT1dRMVsvYm9sZCBncmVlbl0iLCBib3g9Uk9VTkRFRCkpCiAgICBvcy5zeXN0ZW0oInhkZy1vcGVuIGh0dHBzOi8vdC5tZS8rVXVzbnM5cVpIdHcyT1dRMSIpCiAgICAKICAgICMgQXNrIGlmIHVzZXIgaGFzIGpvaW5lZAogICAgam9pbmVkID0gY29uc29sZS5pbnB1dCgiW2JvbGQgeWVsbG93XUhhdmUgeW91IGpvaW5lZCB0aGUgVGVsZWdyYW0gY2hhbm5lbD8gKHllcy9ubyk6IFsvYm9sZCB5ZWxsb3ddIikubG93ZXIoKQogICAgaWYgam9pbmVkIG5vdCBpbiBbJ3llcycsICd5J106CiAgICAgICAgY29uc29sZS5wcmludCgiW2JvbGQgcmVkXVlvdSBtdXN0IGpvaW4gdGhlIGNoYW5uZWwgdG8gdXNlIHRoaXMgdG9vbC5bL2JvbGQgcmVkXSIpCiAgICAgICAgZXhpdCgpCiAgICAKICAgICMgQXNrIGZvciBwYXNzd29yZAogICAgY29uc29sZS5wcmludChQYW5lbC5maXQoIltib2xkIGN5YW5dTm93IHlvdSBuZWVkIHRoZSBwYXNzd29yZC4gRW50ZXIgJ1knIHRvIGNvbnRpbnVlLiBJZiBub3QgYXV0b21hdGljYWxseSByZWRpcmVjdGluZywgZ28gdG8gOiBodHRwczovL3QubWUvYy8yNTk4NjQ3OTc3LzEzOFsvYm9sZCBjeWFuXSIsIGJveD1ST1VOREVEKSkKICAgIHBhc3N3b3JkX3Byb21wdCA9IGNvbnNvbGUuaW5wdXQoIltib2xkIHllbGxvd11FbnRlciBZIGZvciBwYXNzd29yZDogWy9ib2xkIHllbGxvd10iKS5sb3dlcigpCiAgICBpZiBwYXNzd29yZF9wcm9tcHQgIT0gJ3knOgogICAgICAgIGNvbnNvbGUucHJpbnQoIltib2xkIHJlZF1QYXNzd29yZCBwcm9tcHQgcmVxdWlyZWQuWy9ib2xkIHJlZF0iKQogICAgICAgIGV4aXQoKQogICAgCiAgICAjIFJlZGlyZWN0IHRvIHBhc3N3b3JkIGNoYW5uZWwKICAgIG9zLnN5c3RlbSgieGRnLW9wZW4gaHR0cHM6Ly90Lm1lL2MvMjU5ODY0Nzk3Ny8xMzgiKQogICAgcGFzc3dvcmQgPSBjb25zb2xlLmlucHV0KCJbYm9sZCByZWRdRW50ZXIgdGhlIHBhc3N3b3JkOiBbL2JvbGQgcmVkXSIpCiAgICAKICAgICMgVmVyaWZ5IHBhc3N3b3JkCiAgICB0cnk6CiAgICAgICAgcmVzcG9uc2UgPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vdGNzZGVtb25pYy52ZXJjZWwuYXBwL2FwaS9yYW5kb211c2VycyIpCiAgICAgICAgaWYgcmVzcG9uc2UudGV4dC5zdHJpcCgpID09ICJkemRlbW9uaWMiOgogICAgICAgICAgICBpZiBwYXNzd29yZCAhPSAiZHpkZW1vbmljIjoKICAgICAgICAgICAgICAgIGNvbnNvbGUucHJpbnQoIltib2xkIHJlZF1JbnZhbGlkIHBhc3N3b3JkISBBY2Nlc3MgZGVuaWVkLlsvYm9sZCByZWRdIikKICAgICAgICAgICAgICAgIGV4aXQoKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgICMgSWYgcmVzcG9uc2UgaXMgSlNPTiAob3JpZ2luYWwgaW1wbGVtZW50YXRpb24pCiAgICAgICAgICAgIHZhbGlkX3Bhc3N3b3JkcyA9IHJlc3BvbnNlLmpzb24oKS5nZXQoJ3Bhc3N3b3JkcycsIFtdKQogICAgICAgICAgICBpZiBwYXNzd29yZCBub3QgaW4gdmFsaWRfcGFzc3dvcmRzOgogICAgICAgICAgICAgICAgY29uc29sZS5wcmludCgiW2JvbGQgcmVkXUludmFsaWQgcGFzc3dvcmQhIEFjY2VzcyBkZW5pZWQuWy9ib2xkIHJlZF0iKQogICAgICAgICAgICAgICAgZXhpdCgpCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgY29uc29sZS5wcmludChmIltib2xkIHJlZF1FcnJvciB2ZXJpZnlpbmcgcGFzc3dvcmQ6IHtlfVsvYm9sZCByZWRdIikKICAgICAgICBleGl0KCkKCiMgPT09PT09PT09PT09PT09PT09PT09PSBHRVQgQVBJIENSRURFTlRJQUxTID09PT09PT09PT09PT09PT09PT09PT0KZGVmIGdldF9hcGlfY3JlZGVudGlhbHMoKToKICAgIHRyeToKICAgICAgICByZXNwb25zZSA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly90Y3NkZW1vbmljLnZlcmNlbC5hcHAvYXBpL2ZiaW5mbyIpCiAgICAgICAgaWYgcmVzcG9uc2UudGV4dC5zdHJpcCgpID09ICJkemRlbW9uaWMiOgogICAgICAgICAgICAjIERlZmF1bHQgY3JlZGVudGlhbHMgd2hlbiBBUEkgcmV0dXJucyAiZHpkZW1vbmljIgogICAgICAgICAgICByZXR1cm4gMjYxNjA5NDgsICI0MWM2MDk5ZTczY2EzMzA2OThlMTE1YjAxNzc5MjYyOCIKICAgICAgICBlbHNlOgogICAgICAgICAgICAjIE9yaWdpbmFsIGltcGxlbWVudGF0aW9uIGZvciBKU09OIHJlc3BvbnNlCiAgICAgICAgICAgIGRhdGEgPSByZXNwb25zZS5qc29uKCkKICAgICAgICAgICAgcmV0dXJuIGRhdGEuZ2V0KCdhcGlfaWQnKSwgZGF0YS5nZXQoJ2FwaV9oYXNoJykKICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICBjb25zb2xlLnByaW50KGYiW2JvbGQgcmVkXUVycm9yIGZldGNoaW5nIEFQSSBjcmVkZW50aWFsczoge2V9Wy9ib2xkIHJlZF0iKQogICAgICAgICMgUmV0dXJuIGRlZmF1bHQgY3JlZGVudGlhbHMgaWYgQVBJIGZhaWxzCiAgICAgICAgcmV0dXJuIDI2MTYwOTQ4LCAiNDFjNjA5OWU3M2NhMzMwNjk4ZTExNWIwMTc3OTI2MjgiCgojID09PT09PT09PT09PT09PT09PT09PT0gSEVBREVSID09PT09PT09PT09PT09PT09PT09PT0KZGVmIGRpc3BsYXlfaGVhZGVyKCk6CiAgICBoZWFkZXIgPSAiIiIKLiMjIyMjLi4uIyMjIyMjLi4uLi4uLi4uLiMjIyMjIy4uLiMjIyMuLgouIyMuLiMjLi4uLi4jIy4uLi4uLi4uLi4uLi4jIy4uLi4jIy4uLi4uCi4jIy4uIyMuLi4uIyMuLi4uIyMjIyMjLi4uLiMjLi4uLiMjLiMjIy4KLiMjLi4jIy4uLiMjLi4uLi4uLi4uLi4uLi4uIyMuLi4uIyMuLiMjLgouIyMjIyMuLi4jIyMjIyMuLi4uLi4uLi4uLi4jIy4uLi4uIyMjIy4uCi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4KaHR0cHM6Ly90Lm1lLytVdXNuczlxWkh0dzJPV1ExCiIiIgogICAgd2FybmluZyA9ICJbYm9sZCB5ZWxsb3ddV0FSTklORzpbL2JvbGQgeWVsbG93XSBBZGRpbmcgbW9yZSB0aGFuIDUwIG1lbWJlcnMgcGVyIGRheSBtYXkgcmVzdWx0IGluIGEgYmFuLiIKICAgIAogICAgY29uc29sZS5wcmludChQYW5lbC5maXQoaGVhZGVyLCBzdHlsZT0iYm9sZCBjeWFuIiwgYm94PVJPVU5ERUQpKQogICAgY29uc29sZS5wcmludChQYW5lbC5maXQod2FybmluZywgc3R5bGU9ImJvbGQgcmVkIiwgYm94PVJPVU5ERUQpKQogICAgY29uc29sZS5wcmludCgiXG4iKQoKIyA9PT09PT09PT09PT09PT09PT09PT09IElOUFVUIFNFQ1RJT04gPT09PT09PT09PT09PT09PT09PT09PQpkZWYgZ2V0X2lucHV0cyhhcGlfaWQsIGFwaV9oYXNoKToKICAgIGlucHV0cyA9IFRhYmxlKHNob3dfaGVhZGVyPUZhbHNlLCBib3g9Uk9VTkRFRCwgc3R5bGU9ImJvbGQgYmx1ZSIpCiAgICBpbnB1dHMuYWRkX2NvbHVtbigiRmllbGQiLCBzdHlsZT0iY3lhbiIpCiAgICBpbnB1dHMuYWRkX2NvbHVtbigiVmFsdWUiKQogICAgCiAgICBjb25zb2xlLnByaW50KGYiW2JvbGQgY3lhbl1BUEkgSUQ6IFsvYm9sZCBjeWFuXXthcGlfaWR9IikKICAgIGNvbnNvbGUucHJpbnQoZiJbYm9sZCBjeWFuXUFQSSBIYXNoOiBbL2JvbGQgY3lhbl17YXBpX2hhc2h9IikKICAgIHBob25lID0gY29uc29sZS5pbnB1dCgiW2JvbGQgY3lhbl1FbnRlciB5b3VyIHBob25lIG51bWJlciAod2l0aCBjb3VudHJ5IGNvZGUpOiBbL2JvbGQgY3lhbl0iKQogICAgc291cmNlX2dyb3VwID0gY29uc29sZS5pbnB1dCgiW2JvbGQgY3lhbl1FbnRlciB0aGUgc291cmNlIGdyb3VwIHVzZXJuYW1lIG9yIElEOiBbL2JvbGQgY3lhbl0iKQogICAgZGVzdGluYXRpb25fY2hhbm5lbCA9IGNvbnNvbGUuaW5wdXQoIltib2xkIGN5YW5dRW50ZXIgdGhlIGRlc3RpbmF0aW9uIGNoYW5uZWwgdXNlcm5hbWUgb3IgSUQ6IFsvYm9sZCBjeWFuXSIpCiAgICAKICAgIGlucHV0cy5hZGRfcm93KCJBUEkgSUQiLCBzdHIoYXBpX2lkKSkKICAgIGlucHV0cy5hZGRfcm93KCJBUEkgSGFzaCIsICLigKIiKmxlbihhcGlfaGFzaCkpCiAgICBpbnB1dHMuYWRkX3JvdygiUGhvbmUiLCBwaG9uZSkKICAgIGlucHV0cy5hZGRfcm93KCJTb3VyY2UgR3JvdXAiLCBzb3VyY2VfZ3JvdXApCiAgICBpbnB1dHMuYWRkX3JvdygiRGVzdGluYXRpb24gQ2hhbm5lbCIsIGRlc3RpbmF0aW9uX2NoYW5uZWwpCiAgICAKICAgIGNvbnNvbGUucHJpbnQoUGFuZWwuZml0KGlucHV0cywgdGl0bGU9Iltib2xkIGdyZWVuXUlOUFVUIERFVEFJTFNbL2JvbGQgZ3JlZW5dIiwgYm94PVJPVU5ERUQpKQogICAgCiAgICByZXR1cm4gaW50KGFwaV9pZCksIGFwaV9oYXNoLCBwaG9uZSwgc291cmNlX2dyb3VwLCBkZXN0aW5hdGlvbl9jaGFubmVsCgojID09PT09PT09PT09PT09PT09PT09PT0gTU9ERSBTRUxFQ1RJT04gPT09PT09PT09PT09PT09PT09PT09PQpkZWYgc2VsZWN0X21vZGUoKToKICAgIG1vZGVfdGFibGUgPSBUYWJsZShzaG93X2hlYWRlcj1UcnVlLCBib3g9Uk9VTkRFRCwgc3R5bGU9ImJvbGQgbWFnZW50YSIpCiAgICBtb2RlX3RhYmxlLmFkZF9jb2x1bW4oIk9wdGlvbiIsIHN0eWxlPSJjeWFuIikKICAgIG1vZGVfdGFibGUuYWRkX2NvbHVtbigiRGVzY3JpcHRpb24iKQogICAgCiAgICBtb2RlX3RhYmxlLmFkZF9yb3coIjEiLCAiQnkgYW1vdW50IikKICAgIG1vZGVfdGFibGUuYWRkX3JvdygiMiIsICJCeSBwZXJjZW50YWdlIikKICAgIAogICAgY29uc29sZS5wcmludChQYW5lbC5maXQobW9kZV90YWJsZSwgdGl0bGU9Iltib2xkIGdyZWVuXVNFTEVDVCBBRERJVElPTiBNT0RFWy9ib2xkIGdyZWVuXSIsIGJveD1ST1VOREVEKSkKICAgIG1vZGUgPSBjb25zb2xlLmlucHV0KCJbYm9sZCBtYWdlbnRhXUVudGVyIDEgb3IgMjogWy9ib2xkIG1hZ2VudGFdIikKICAgIAogICAgdGFyZ2V0X2NvdW50ID0gLTEKICAgIHBlcmNlbnQgPSAwCiAgICAKICAgIGlmIG1vZGUgPT0gJzEnOgogICAgICAgIGFtb3VudF90YWJsZSA9IFRhYmxlKHNob3dfaGVhZGVyPVRydWUsIGJveD1ST1VOREVELCBzdHlsZT0iYm9sZCB5ZWxsb3ciKQogICAgICAgIGFtb3VudF90YWJsZS5hZGRfY29sdW1uKCJPcHRpb24iLCBzdHlsZT0iY3lhbiIpCiAgICAgICAgYW1vdW50X3RhYmxlLmFkZF9jb2x1bW4oIkFtb3VudCIpCiAgICAgICAgCiAgICAgICAgYW1vdW50X21hcCA9IHsnMSc6IDEwLCAnMic6IDMwLCAnMyc6IDUwLCAnNCc6IDcwLCAnNSc6IDEwMH0KICAgICAgICBhbW91bnRfdGFibGUuYWRkX3JvdygiMSIsICIxMCIpCiAgICAgICAgYW1vdW50X3RhYmxlLmFkZF9yb3coIjIiLCAiMzAiKQogICAgICAgIGFtb3VudF90YWJsZS5hZGRfcm93KCIzIiwgIjUwIikKICAgICAgICBhbW91bnRfdGFibGUuYWRkX3JvdygiNCIsICI3MCIpCiAgICAgICAgYW1vdW50X3RhYmxlLmFkZF9yb3coIjUiLCAiMTAwIikKICAgICAgICAKICAgICAgICBjb25zb2xlLnByaW50KFBhbmVsLmZpdChhbW91bnRfdGFibGUsIHRpdGxlPSJbYm9sZCBncmVlbl1TRUxFQ1QgQU1PVU5UWy9ib2xkIGdyZWVuXSIsIGJveD1ST1VOREVEKSkKICAgICAgICBhbW91bnRfY2hvaWNlID0gY29uc29sZS5pbnB1dCgiW2JvbGQgeWVsbG93XUVudGVyIGNob2ljZSBudW1iZXI6IFsvYm9sZCB5ZWxsb3ddIikKICAgICAgICB0YXJnZXRfY291bnQgPSBhbW91bnRfbWFwLmdldChhbW91bnRfY2hvaWNlLCAxMCkKICAgIGVsaWYgbW9kZSA9PSAnMic6CiAgICAgICAgcGVyY2VudF90YWJsZSA9IFRhYmxlKHNob3dfaGVhZGVyPVRydWUsIGJveD1ST1VOREVELCBzdHlsZT0iYm9sZCB5ZWxsb3ciKQogICAgICAgIHBlcmNlbnRfdGFibGUuYWRkX2NvbHVtbigiT3B0aW9uIiwgc3R5bGU9ImN5YW4iKQogICAgICAgIHBlcmNlbnRfdGFibGUuYWRkX2NvbHVtbigiUGVyY2VudGFnZSIpCiAgICAgICAgCiAgICAgICAgcGVyY2VudF9tYXAgPSB7JzEnOiAxMCwgJzInOiAzMCwgJzMnOiA1MCwgJzQnOiA3MCwgJzUnOiAxMDB9CiAgICAgICAgcGVyY2VudF90YWJsZS5hZGRfcm93KCIxIiwgIjEwJSIpCiAgICAgICAgcGVyY2VudF90YWJsZS5hZGRfcm93KCIyIiwgIjMwJSIpCiAgICAgICAgcGVyY2VudF90YWJsZS5hZGRfcm93KCIzIiwgIjUwJSIpCiAgICAgICAgcGVyY2VudF90YWJsZS5hZGRfcm93KCI0IiwgIjcwJSIpCiAgICAgICAgcGVyY2VudF90YWJsZS5hZGRfcm93KCI1IiwgIjEwMCUiKQogICAgICAgIAogICAgICAgIGNvbnNvbGUucHJpbnQoUGFuZWwuZml0KHBlcmNlbnRfdGFibGUsIHRpdGxlPSJbYm9sZCBncmVlbl1TRUxFQ1QgUEVSQ0VOVEFHRVsvYm9sZCBncmVlbl0iLCBib3g9Uk9VTkRFRCkpCiAgICAgICAgcGVyY2VudF9jaG9pY2UgPSBjb25zb2xlLmlucHV0KCJbYm9sZCB5ZWxsb3ddRW50ZXIgY2hvaWNlIG51bWJlcjogWy9ib2xkIHllbGxvd10iKQogICAgICAgIHBlcmNlbnQgPSBwZXJjZW50X21hcC5nZXQocGVyY2VudF9jaG9pY2UsIDEwKQogICAgCiAgICByZXR1cm4gdGFyZ2V0X2NvdW50LCBwZXJjZW50CgojID09PT09PT09PT09PT09PT09PT09PT0gTUVNQkVSIFNIVUZGTElORyA9PT09PT09PT09PT09PT09PT09PT09CmRlZiBzaHVmZmxlX21lbWJlcnMocGFydGljaXBhbnRzLCBhZGRlZF91c2Vycywgc2tpcHBlZF91c2Vycyk6CiAgICAjIFNlcGFyYXRlIGFkZGVkL3NraXBwZWQgdXNlcnMgZnJvbSBuZXcgb25lcwogICAgYWRkZWRfaWRzID0ge3UuaWQgZm9yIHUgaW4gYWRkZWRfdXNlcnN9CiAgICBza2lwcGVkX2lkcyA9IHt1LmlkIGZvciB1IGluIHNraXBwZWRfdXNlcnN9CiAgICAKICAgIG5ld191c2VycyA9IFt1IGZvciB1IGluIHBhcnRpY2lwYW50cyBpZiB1LmlkIG5vdCBpbiBhZGRlZF9pZHMgYW5kIHUuaWQgbm90IGluIHNraXBwZWRfaWRzXQogICAgcmFuZG9tLnNodWZmbGUobmV3X3VzZXJzKQogICAgCiAgICAjIFB1dCBza2lwcGVkIHVzZXJzIGF0IHRoZSBiZWdpbm5pbmcgKHRoZXkgZ2V0IHByaW9yaXR5KQogICAgc2tpcHBlZF91c2Vyc19saXN0ID0gW3UgZm9yIHUgaW4gcGFydGljaXBhbnRzIGlmIHUuaWQgaW4gc2tpcHBlZF9pZHNdCiAgICByYW5kb20uc2h1ZmZsZShza2lwcGVkX3VzZXJzX2xpc3QpCiAgICAKICAgIHJldHVybiBza2lwcGVkX3VzZXJzX2xpc3QgKyBuZXdfdXNlcnMKCiMgPT09PT09PT09PT09PT09PT09PT09PSBNQUlOIEZVTkNUSU9OID09PT09PT09PT09PT09PT09PT09PT0KYXN5bmMgZGVmIG1haW4oKToKICAgICMgQXV0aGVudGljYXRpb24gZmxvdwogICAgYXV0aGVudGljYXRlX3VzZXIoKQogICAgCiAgICAjIEdldCBBUEkgY3JlZGVudGlhbHMgYXV0b21hdGljYWxseQogICAgYXBpX2lkLCBhcGlfaGFzaCA9IGdldF9hcGlfY3JlZGVudGlhbHMoKQogICAgCiAgICAjIERpc3BsYXkgaGVhZGVyIGFuZCBnZXQgaW5wdXRzCiAgICBkaXNwbGF5X2hlYWRlcigpCiAgICBhcGlfaWQsIGFwaV9oYXNoLCBwaG9uZSwgc291cmNlX2dyb3VwLCBkZXN0aW5hdGlvbl9jaGFubmVsID0gZ2V0X2lucHV0cyhhcGlfaWQsIGFwaV9oYXNoKQogICAgdGFyZ2V0X2NvdW50LCBwZXJjZW50ID0gc2VsZWN0X21vZGUoKQogICAgCiAgICBhZGRlZF91c2VycyA9IFtdCiAgICBza2lwcGVkX3VzZXJzID0gW10KCiAgICBhc3luYyB3aXRoIFRlbGVncmFtQ2xpZW50KHBob25lLCBhcGlfaWQsIGFwaV9oYXNoKSBhcyBjbGllbnQ6CiAgICAgICAgY29uc29sZS5wcmludChQYW5lbC5maXQoIltib2xkIGdyZWVuXUZldGNoaW5nIHBhcnRpY2lwYW50cy4uLlsvYm9sZCBncmVlbl0iLCBib3g9Uk9VTkRFRCkpCiAgICAgICAgCiAgICAgICAgcGFydGljaXBhbnRzID0gW10KICAgICAgICBhc3luYyBmb3IgdXNlciBpbiBjbGllbnQuaXRlcl9wYXJ0aWNpcGFudHMoc291cmNlX2dyb3VwKToKICAgICAgICAgICAgcGFydGljaXBhbnRzLmFwcGVuZCh1c2VyKQoKICAgICAgICBpZiBwZXJjZW50OgogICAgICAgICAgICB0YXJnZXRfY291bnQgPSBpbnQobGVuKHBhcnRpY2lwYW50cykgKiBwZXJjZW50IC8gMTAwKQoKICAgICAgICBpbmZvX3RhYmxlID0gVGFibGUoc2hvd19oZWFkZXI9RmFsc2UsIGJveD1ST1VOREVELCBzdHlsZT0iYm9sZCBibHVlIikKICAgICAgICBpbmZvX3RhYmxlLmFkZF9jb2x1bW4oIk1ldHJpYyIsIHN0eWxlPSJjeWFuIikKICAgICAgICBpbmZvX3RhYmxlLmFkZF9jb2x1bW4oIlZhbHVlIikKICAgICAgICBpbmZvX3RhYmxlLmFkZF9yb3coIlRvdGFsIG1lbWJlcnMgaW4gZ3JvdXAiLCBzdHIobGVuKHBhcnRpY2lwYW50cykpKQogICAgICAgIGluZm9fdGFibGUuYWRkX3JvdygiVGFyZ2V0IHRvIGFkZCIsIHN0cih0YXJnZXRfY291bnQpKQogICAgICAgIAogICAgICAgIGNvbnNvbGUucHJpbnQoUGFuZWwuZml0KGluZm9fdGFibGUsIHRpdGxlPSJbYm9sZCBncmVlbl1HUk9VUCBTVEFUSVNUSUNTWy9ib2xkIGdyZWVuXSIsIGJveD1ST1VOREVEKSkKICAgICAgICBjb25zb2xlLnByaW50KCJcbiIpCgogICAgICAgIGFkZGVkID0gMAogICAgICAgIGF0dGVtcHRfY291bnQgPSAwCiAgICAgICAgbWF4X2F0dGVtcHRzID0gbGVuKHBhcnRpY2lwYW50cykgKiAyICAjIFByZXZlbnQgaW5maW5pdGUgbG9vcHMKICAgICAgICAKICAgICAgICB3aXRoIFByb2dyZXNzKCkgYXMgcHJvZ3Jlc3M6CiAgICAgICAgICAgIHRhc2sgPSBwcm9ncmVzcy5hZGRfdGFzaygiW2N5YW5dQWRkaW5nIG1lbWJlcnMuLi4iLCB0b3RhbD10YXJnZXRfY291bnQpCiAgICAgICAgICAgIAogICAgICAgICAgICB3aGlsZSBhZGRlZCA8IHRhcmdldF9jb3VudCBhbmQgYXR0ZW1wdF9jb3VudCA8IG1heF9hdHRlbXB0czoKICAgICAgICAgICAgICAgIGF0dGVtcHRfY291bnQgKz0gMQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAjIFNodWZmbGUgbWVtYmVycyB3aXRoIHByaW9yaXR5IHRvIG5vbi1hZGRlZCBvbmVzCiAgICAgICAgICAgICAgICBzaHVmZmxlZF9tZW1iZXJzID0gc2h1ZmZsZV9tZW1iZXJzKHBhcnRpY2lwYW50cywgYWRkZWRfdXNlcnMsIHNraXBwZWRfdXNlcnMpCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGZvciB1c2VyIGluIHNodWZmbGVkX21lbWJlcnM6CiAgICAgICAgICAgICAgICAgICAgaWYgYWRkZWQgPj0gdGFyZ2V0X2NvdW50OgogICAgICAgICAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICAgICAgICAgICMgQ2hlY2sgaWYgdXNlciBpcyBhbHJlYWR5IGluIGNoYW5uZWwKICAgICAgICAgICAgICAgICAgICAgICAgYXN5bmMgZm9yIG1lbWJlciBpbiBjbGllbnQuaXRlcl9wYXJ0aWNpcGFudHMoZGVzdGluYXRpb25fY2hhbm5lbCk6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBtZW1iZXIuaWQgPT0gdXNlci5pZDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByYWlzZSBVc2VyQWxyZWFkeVBhcnRpY2lwYW50RXJyb3IodXNlci5pZCkKICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgIHByb2dyZXNzLmNvbnNvbGUucHJpbnQoZiJbYm9sZF1BZGRpbmcgW2N5YW5de3VzZXIuZmlyc3RfbmFtZSBvciB1c2VyLnVzZXJuYW1lIG9yICdVbmtub3duJ31bL2N5YW5dLi4uWy9ib2xkXSIpCiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IGNsaWVudChJbnZpdGVUb0NoYW5uZWxSZXF1ZXN0KGRlc3RpbmF0aW9uX2NoYW5uZWwsIFt1c2VyXSkpCiAgICAgICAgICAgICAgICAgICAgICAgIHByb2dyZXNzLmNvbnNvbGUucHJpbnQoZiJbZ3JlZW5d4pyTIEFkZGVkIHt1c2VyLmlkfVsvZ3JlZW5dIikKICAgICAgICAgICAgICAgICAgICAgICAgYWRkZWRfdXNlcnMuYXBwZW5kKHVzZXIpCiAgICAgICAgICAgICAgICAgICAgICAgIGFkZGVkICs9IDEKICAgICAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3MudXBkYXRlKHRhc2ssIGFkdmFuY2U9MSkKICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgYXN5bmNpby5zbGVlcCg0MCkKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICBleGNlcHQgVXNlckFscmVhZHlQYXJ0aWNpcGFudEVycm9yOgogICAgICAgICAgICAgICAgICAgICAgICBwcm9ncmVzcy5jb25zb2xlLnByaW50KGYiW3llbGxvd13imqAgU2tpcHBlZCB7dXNlci5pZH06IEFscmVhZHkgaW4gY2hhbm5lbC5bL3llbGxvd10iKQogICAgICAgICAgICAgICAgICAgICAgICBpZiB1c2VyIG5vdCBpbiBza2lwcGVkX3VzZXJzOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2tpcHBlZF91c2Vycy5hcHBlbmQodXNlcikKICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWUKICAgICAgICAgICAgICAgICAgICBleGNlcHQgRmxvb2RXYWl0RXJyb3IgYXMgZToKICAgICAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3MuY29uc29sZS5wcmludChmIltyZWRd4oybIEZsb29kIHdhaXQgZm9yIHtlLnNlY29uZHN9IHNlY29uZHMuWy9yZWRdIikKICAgICAgICAgICAgICAgICAgICAgICAgdGltZS5zbGVlcChlLnNlY29uZHMpCiAgICAgICAgICAgICAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgICAgICAgICAgICAgICAgICBwcm9ncmVzcy5jb25zb2xlLnByaW50KGYiW3JlZF3inJcgRmFpbGVkIHRvIGFkZCB7dXNlci5pZH06IHtlfVsvcmVkXSIpCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlCgogICAgICAgICMgPT09PT09PT09PT09PT09PT09PT09PSBTVU1NQVJZID09PT09PT09PT09PT09PT09PT09PT0KICAgICAgICBzdW1tYXJ5X3RhYmxlID0gVGFibGUodGl0bGU9Iltib2xkIGdyZWVuXVNVTU1BUllbL2JvbGQgZ3JlZW5dIiwgYm94PVJPVU5ERUQsIHN0eWxlPSJib2xkIGJsdWUiKQogICAgICAgIHN1bW1hcnlfdGFibGUuYWRkX2NvbHVtbigiTWV0cmljIiwgc3R5bGU9ImN5YW4iKQogICAgICAgIHN1bW1hcnlfdGFibGUuYWRkX2NvbHVtbigiVmFsdWUiLCBzdHlsZT0iZ3JlZW4iKQogICAgICAgIAogICAgICAgIHN1bW1hcnlfdGFibGUuYWRkX3JvdygiVG90YWwgTWVtYmVycyBpbiBTb3VyY2UgR3JvdXAiLCBzdHIobGVuKHBhcnRpY2lwYW50cykpKQogICAgICAgIHN1bW1hcnlfdGFibGUuYWRkX3JvdygiVGFyZ2V0IHRvIEFkZCIsIHN0cih0YXJnZXRfY291bnQpKQogICAgICAgIHN1bW1hcnlfdGFibGUuYWRkX3JvdygiU3VjY2Vzc2Z1bGx5IEFkZGVkIiwgc3RyKGxlbihhZGRlZF91c2VycykpKQogICAgICAgIHN1bW1hcnlfdGFibGUuYWRkX3JvdygiU2tpcHBlZCAoQWxyZWFkeSBQcmVzZW50KSIsIHN0cihsZW4oc2tpcHBlZF91c2VycykpKQogICAgICAgIHN1bW1hcnlfdGFibGUuYWRkX3JvdygiQXR0ZW1wdHMgTWFkZSIsIHN0cihhdHRlbXB0X2NvdW50KSkKICAgICAgICAKICAgICAgICBjb25zb2xlLnByaW50KFBhbmVsLmZpdChzdW1tYXJ5X3RhYmxlLCBib3g9Uk9VTkRFRCkpCgppZiBfX25hbWVfXyA9PSAnX19tYWluX18nOgogICAgYXN5bmNpby5nZXRfZXZlbnRfbG9vcCgpLnJ1bl91bnRpbF9jb21wbGV0ZShtYWluKCkp").decode('utf-8'))
